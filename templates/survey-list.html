{% extends "layout.html" %}

{% block title %}
Survey List
{% endblock %}

{% block main %}
<h2 class="d-flex justify-content-center">Welcome to Simple Survey, {{ username }}.</h2>
<ul class="list-group-flush ">
    {% for survey in survey_list %}
    <li class="list-group-item pt-0 p-2 mb-2 bg-transparent">
        <div class="d-flex align-items-center">
            <div class="flex-grow-1">
                <h1 class="mb-0"><a class="hovering-survey-link" href='render-questions/{{ survey["_id"] }}'
                        id="surveyName">{{ survey["survey_name"] }}</a></h1>
            </div>
            <div class="flex-shrink-0 text-end">
                <span>
                    <button type="button" class="btn btn-primary" onclick="confirmSurveyDeletion(this)"
                        value='{{ survey["_id"] }}'>Delete</button>
                </span>
            </div>
        </div>
    </li>
    {% endfor %}
    <li class="list-group-item pt-0 p-2 mb-2 bg-transparent">
        <div class="d-flex align-items-center">
            <div class="flex-grow-1">
                <h3 class="mb-0"><a href="javascript: void(0)" class="hovering-survey-link"
                        onclick="confirmSurveyAddition(this)" value='{{ user_id }}'>New Survey</a></h3>
            </div>
        </div>
    </li>
</ul>

<div id="surveyDeletionModal" class="modal">

    <div class="modal-content">
        <span class="close" id="closeDeletion">&times;</span>
        <h3>Do you want to delete this survey?</h3>
        <div class="d-flex w-50 justify-content-between">
            <button type="button" class="btn btn-success" onclick="deleteSurvey()">Yes</button>
            <button type="button" class="btn btn-danger" onclick="exitModal()">No</button>
        </div>
    </div>
</div>

<div id="surveyAdditionModal" class="modal">

    <div class="modal-content">
        <span class="close" id="closeAddition">&times;</span>
        <h3>Please enter the name of the new survey:</h3>
        <div class="d-flex w-50">
            <input class="form-control" placeholder="Enter the survey name here" id="question" rows="1"></input>
        </div>
        <div class="d-flex justify-content-between"></div>
        <button type="button" class="btn btn-success" onclick="addSurvey()">Submit</button>
    </div>
</div>
</div>
{% endblock %}